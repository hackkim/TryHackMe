# üåê Content Discovery

## Task 1: What is Content Discovery?

Content, in the context of web application security, can be various resources such as files, videos, pictures, backups, website features, and more. Content discovery focuses on identifying non-obvious resources that might be unintentionally exposed to public access, such as:

* Staff-only portals
* Backup or configuration files
* Old versions of websites
* Administration panels

Content discovery methods include:

* **Manual discovery**
* **Automated discovery**
* **OSINT (Open-Source Intelligence)**

## Task 2: Manual Discovery - Robots.txt

`Robots.txt` is a file used to instruct search engines on pages they should or shouldn't index. Reviewing this file helps identify areas potentially hidden from public view but accessible manually.

Access it at:

```http
http://<MACHINE_IP>/robots.txt
```

## Task 3: Manual Discovery - Favicon

A favicon is a small branding icon in the browser tab. Identifying a favicon can hint at the technology stack used by the website.

 ![ÎåÄÏ≤¥ ÌÖçÏä§Ìä∏](# üåê Content Discovery

## Task 1: What is Content Discovery?

Content, in the context of web application security, can be various resources such as files, videos, pictures, backups, website features, and more. Content discovery focuses on identifying non-obvious resources that might be unintentionally exposed to public access, such as:

* Staff-only portals
* Backup or configuration files
* Old versions of websites
* Administration panels

Content discovery methods include:

* **Manual discovery**
* **Automated discovery**
* **OSINT (Open-Source Intelligence)**

## Task 2: Manual Discovery - Robots.txt

`Robots.txt` is a file used to instruct search engines on pages they should or shouldn't index. Reviewing this file helps identify areas potentially hidden from public view but accessible manually.

Access it at:

```http
http://<MACHINE_IP>/robots.txt
```

## Task 3: Manual Discovery - Favicon

A favicon is a small branding icon in the browser tab. Identifying a favicon can hint at the technology stack used by the website.

![Browser Tab Favicon Example](https://github.com/user-attachments/assets/9636c11e-8b43-42e2-99be-c81a275bc909)

üîç ***Locate the Favicon in HTML Source***

To find the favicon‚Äôs location, view the page source and look for a line similar to:

```html
<link rel="shortcut icon" type="image/jpg" href="images/favicon.ico"/>
```

![HTML Source Example](https://github.com/user-attachments/assets/cdc1f3de-56ff-494b-89d3-93d9675bafbe)


Extract and hash favicon:

**Linux/Mac:**

```bash
curl https://static-labs.tryhackme.cloud/sites/favicon/images/favicon.ico | md5sum
```

**Windows (PowerShell):**

```powershell
curl https://static-labs.tryhackme.cloud/sites/favicon/images/favicon.ico -UseBasicParsing -o favicon.ico
Get-FileHash .\favicon.ico -Algorithm MD5
```

Lookup hash on OWASP database: [OWASP favicon database](https://wiki.owasp.org/index.php/OWASP_favicon_database)

## Task 4: Manual Discovery - Sitemap.xml

`Sitemap.xml` lists website pages intended for search engines. Review it for potentially hidden content:

```http
http://<MACHINE_IP>/sitemap.xml
```

## Task 5: Manual Discovery - HTTP Headers

HTTP headers reveal server details and underlying technologies used.

Check headers using curl:

```bash
curl http://<MACHINE_IP> -v
```

Information of interest:

* Webserver software/version
* Programming/scripting languages

## Task 6: Manual Discovery - Framework Stack

Discover the framework used by reviewing the page source and following developer links/comments:

```http
http://<MACHINE_IP>
```

For instance, a common comment in HTML could lead to:

```html
<!-- Page generated by Example Framework v1.0.0 -->
```

Then visit the framework site to find admin paths or useful documentation.

## Task 7: OSINT - Google Hacking / Dorking

Google hacking uses advanced search operators to discover hidden resources:

| Filter   | Example           | Description                              |
| -------- | ----------------- | ---------------------------------------- |
| site     | site\:example.com | Only results from the specified domain   |
| inurl    | inurl\:admin      | Results with specified term in URL       |
| filetype | filetype\:pdf     | Results with specific file extension     |
| intitle  | intitle\:admin    | Results with specified term in the title |

Example:

```google
site:example.com admin
```

## Task 8: OSINT - Wappalyzer

Wappalyzer identifies website technologies including frameworks, CMS, and software versions:

* Online tool: [Wappalyzer](https://www.wappalyzer.com/)
* Browser extension available for Chrome and Firefox.

## Task 9: OSINT - Wayback Machine

Wayback Machine archives historical snapshots of websites:

* Visit: [Wayback Machine](https://archive.org/web/)
* Search domain name to discover older, possibly active web pages.

## Task 10: OSINT - GitHub

GitHub can reveal valuable information in public repositories:

* Search GitHub for repositories:

  ```text
  "company-name" site:github.com
  ```

* Discover:

  * Source code
  * Configuration files
  * Possible credentials

## Task 11: OSINT - S3 Buckets

AWS S3 buckets are storage services that might inadvertently expose sensitive content.

Common format:

```http
http(s)://{name}.s3.amazonaws.com
```

Automate discovery with variations of common naming patterns:

* `{name}-assets`
* `{name}-public`
* `{name}-private`

## Task 12: Automated Discovery

Automated discovery leverages tools and wordlists to identify hidden resources.

### Tools:

* **ffuf**:

```bash
ffuf -w /usr/share/wordlists/SecLists/Discovery/Web-Content/common.txt -u http://<MACHINE_IP>/FUZZ
```

* **dirb**:

```bash
dirb http://<MACHINE_IP>/ /usr/share/wordlists/SecLists/Discovery/Web-Content/common.txt
```

* **Gobuster**:

```bash
gobuster dir --url http://<MACHINE_IP>/ -w /usr/share/wordlists/SecLists/Discovery/Web-Content/common.txt
```

These commands automate content discovery, making thousands of requests to identify valid files/directories.

## üìå Recommended Actions:

* Regularly perform manual and automated content discovery.
* Use OSINT methods to supplement findings.
* Continually verify and update the discovered resources.

)

Extract and hash favicon:

**Linux/Mac:**

```bash
curl https://static-labs.tryhackme.cloud/sites/favicon/images/favicon.ico | md5sum
```

**Windows (PowerShell):**

```powershell
curl https://static-labs.tryhackme.cloud/sites/favicon/images/favicon.ico -UseBasicParsing -o favicon.ico
Get-FileHash .\favicon.ico -Algorithm MD5
```

Lookup hash on OWASP database: [OWASP favicon database](https://wiki.owasp.org/index.php/OWASP_favicon_database)

## Task 4: Manual Discovery - Sitemap.xml

`Sitemap.xml` lists website pages intended for search engines. Review it for potentially hidden content:

```http
http://<MACHINE_IP>/sitemap.xml
```

## Task 5: Manual Discovery - HTTP Headers

HTTP headers reveal server details and underlying technologies used.

Check headers using curl:

```bash
curl http://<MACHINE_IP> -v
```

Information of interest:

* Webserver software/version
* Programming/scripting languages

## Task 6: Manual Discovery - Framework Stack

Discover the framework used by reviewing the page source and following developer links/comments:

```http
http://<MACHINE_IP>
```

For instance, a common comment in HTML could lead to:

```html
<!-- Page generated by Example Framework v1.0.0 -->
```

Then visit the framework site to find admin paths or useful documentation.

## Task 7: OSINT - Google Hacking / Dorking

Google hacking uses advanced search operators to discover hidden resources:

| Filter   | Example           | Description                              |
| -------- | ----------------- | ---------------------------------------- |
| site     | site\:example.com | Only results from the specified domain   |
| inurl    | inurl\:admin      | Results with specified term in URL       |
| filetype | filetype\:pdf     | Results with specific file extension     |
| intitle  | intitle\:admin    | Results with specified term in the title |

Example:

```google
site:example.com admin
```

## Task 8: OSINT - Wappalyzer

Wappalyzer identifies website technologies including frameworks, CMS, and software versions:

* Online tool: [Wappalyzer](https://www.wappalyzer.com/)
* Browser extension available for Chrome and Firefox.

## Task 9: OSINT - Wayback Machine

Wayback Machine archives historical snapshots of websites:

* Visit: [Wayback Machine](https://archive.org/web/)
* Search domain name to discover older, possibly active web pages.

## Task 10: OSINT - GitHub

GitHub can reveal valuable information in public repositories:

* Search GitHub for repositories:

  ```text
  "company-name" site:github.com
  ```

* Discover:

  * Source code
  * Configuration files
  * Possible credentials

## Task 11: OSINT - S3 Buckets

AWS S3 buckets are storage services that might inadvertently expose sensitive content.

Common format:

```http
http(s)://{name}.s3.amazonaws.com
```

Automate discovery with variations of common naming patterns:

* `{name}-assets`
* `{name}-public`
* `{name}-private`

## Task 12: Automated Discovery

Automated discovery leverages tools and wordlists to identify hidden resources.

### Tools:

* **ffuf**:

```bash
ffuf -w /usr/share/wordlists/SecLists/Discovery/Web-Content/common.txt -u http://<MACHINE_IP>/FUZZ
```

* **dirb**:

```bash
dirb http://<MACHINE_IP>/ /usr/share/wordlists/SecLists/Discovery/Web-Content/common.txt
```

* **Gobuster**:

```bash
gobuster dir --url http://<MACHINE_IP>/ -w /usr/share/wordlists/SecLists/Discovery/Web-Content/common.txt
```

These commands automate content discovery, making thousands of requests to identify valid files/directories.

## üìå Recommended Actions:

* Regularly perform manual and automated content discovery.
* Use OSINT methods to supplement findings.
* Continually verify and update the discovered resources.


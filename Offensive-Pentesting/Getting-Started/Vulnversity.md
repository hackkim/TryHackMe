# ğŸ´â€â˜ ï¸ Vulnversity 

A comprehensive guide covering active reconnaissance, web application attacks, and privilege escalation techniques using the Vulnversity machine from TryHackMe.

## ğŸ¯ Overview

This walkthrough demonstrates essential penetration testing methodologies including network scanning, directory enumeration, file upload vulnerabilities, and Linux privilege escalation. The target is a vulnerable web application that simulates real-world security weaknesses.

![Penetration Testing Mascot](https://github.com/user-attachments/assets/f5058062-7672-4125-9058-d4f212a1023d)

## ğŸš€ Task 1: Machine Deployment

Start by deploying the target machine and ensuring proper network connectivity. Allow 4-5 minutes for the VM to fully boot before proceeding with the assessment.

## ğŸ” Task 2: Reconnaissance with Nmap

Network reconnaissance is the foundation of any penetration test. We'll use Nmap to identify open services and potential attack vectors.

![Nmap Logo](https://github.com/user-attachments/assets/de90f1d0-f633-4df4-8d6a-c0178d4c7c5d)

### ğŸ“¡ Basic Service Scan

```bash
nmap -sV MACHINE_IP
```

### âš™ï¸ Nmap Flag Reference

| Flag | Description |
|------|-------------|
| `-sV` | Attempts to determine service versions |
| `-p <x>` or `-p-` | Scan specific port or all ports |
| `-Pn` | Disable host discovery |
| `-A` | Enable OS detection and script scanning |
| `-sC` | Use default Nmap scripts |
| `-v` | Verbose output |
| `-sU` | UDP port scan |
| `-sS` | TCP SYN scan |

## ğŸ•·ï¸ Task 3: Directory Discovery with Gobuster

Directory enumeration reveals hidden paths that may contain sensitive functionality or files.

![](https://github.com/user-attachments/assets/004fc30c-72d4-4812-b004-dcc0dadfca18)

### ğŸ› ï¸ Installation and Setup

```bash
# On Kali Linux
sudo apt-get install gobuster

# Basic directory scan
gobuster dir -u http://MACHINE_IP:3333 -w /usr/share/wordlists/dirbuster/directory-list-1.0.txt
```

### ğŸ“‹ Gobuster Parameters

| Flag | Description |
|------|-------------|
| `-e` | Print full URLs |
| `-u` | Target URL |
| `-w` | Wordlist path |
| `-U` and `-P` | Basic authentication credentials |
| `-p <x>` | Proxy configuration |
| `-c <cookies>` | Cookie specification |

## âš¡ Task 4: Web Application Exploitation

Once we've identified an upload functionality, we can exploit it to gain initial access to the system.

### ğŸ“ File Extension Testing

Create a wordlist containing common PHP extensions:

![PHP Extensions List](https://github.com/user-attachments/assets/afcf906b-f4f9-435d-81c2-5d543dfaf1a2)

```
.php
.php3
.php4
.php5
.phtml
```

### ğŸ”§ Burp Suite Configuration

Use Burp Suite's Intruder module to test which file extensions are accepted by the upload form:

![Burp Suite Payload Positions](https://github.com/user-attachments/assets/b598ae69-4c40-4764-8ae6-a3b35872cb08)

1. ğŸ•¸ï¸ Capture the upload request in Burp Suite
2. ğŸ“¤ Send to Intruder
3. ğŸ¯ Configure "Sniper" attack type
4. ğŸ“ Set payload positions around the file extension
5. ğŸ“‹ Load the extension wordlist
6. âš¡ Execute the attack to identify allowed extensions

### ğŸš Reverse Shell Implementation

After identifying an accepted extension (`.phtml`), deploy a PHP reverse shell:

1. ğŸ“¥ Download and modify a PHP reverse shell
2. ğŸ”§ Update the IP address to your attacking machine's IP
3. ğŸ“› Rename the file with the accepted extension
4. ğŸ‘‚ Set up a netcat listener:

```bash
nc -lvnp 1234
```

5. ğŸš€ Upload and execute the shell by navigating to the uploaded file

![Netcat Reverse Shell Connection](https://github.com/user-attachments/assets/68b71c1c-2a3c-4d67-bf38-9492a20fdd36)

## ğŸ‘‘ Task 5: Privilege Escalation

With initial access established, the next goal is to escalate privileges to root.

### ğŸ” Understanding SUID

SUID (Set User ID) permissions allow programs to execute with the privileges of the file owner rather than the user running them.

![SUID Permissions Diagram](https://github.com/user-attachments/assets/28928eb9-921d-4941-b3b1-8b3f83334df3)

### ğŸ¯ SUID Exploitation Strategy

1. **ğŸ” Identify SUID binaries:**
```bash
find / -perm -u=s -type f 2>/dev/null
```

2. **ğŸ”¬ Analyze potential vectors:**
   - Look for unusual SUID binaries
   - Check GTFOBins for exploitation techniques
   - Test for command injection opportunities

3. **ğŸš€ Execute privilege escalation:**
   - Exploit identified SUID binary
   - Gain root shell access
   - Retrieve flags and complete objectives

## ğŸ’¡ Key Learning Points

- **ğŸ” Reconnaissance is crucial:** Thorough enumeration often reveals the attack path
- **ğŸ›¡ï¸ Web application security:** File upload restrictions can often be bypassed
- **ğŸ‘‘ Privilege escalation:** SUID binaries are common escalation vectors in CTF environments
- **ğŸ› ï¸ Tool proficiency:** Mastering tools like Nmap, Gobuster, and Burp Suite is essential

## ğŸ‰ Conclusion

This walkthrough demonstrates a typical web application penetration testing methodology. The progression from reconnaissance through exploitation to privilege escalation mirrors real-world assessment scenarios. Understanding these techniques helps in both offensive security operations and defensive security implementations.

**âš ï¸ Note:** This content is for educational purposes only. Always ensure you have proper authorization before conducting security testing on any systems.

---

*ğŸ“š This walkthrough is based on the TryHackMe Vulnversity room and serves as an educational resource for cybersecurity professionals and students.*
